<!DOCTYPE html>
<html>
  <head>
    <title>What Day Is It? | Unofficial Denton ISD</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
      var $ = jQuery
      // Changes XML to JSON
      function xmlToJson(xml) {
        // Create the return object
        var obj = {}

        if (xml.nodeType == 1) {
          // element
          // do attributes
          if (xml.attributes.length > 0) {
            obj['@attributes'] = {}
            for (var j = 0; j < xml.attributes.length; j++) {
              var attribute = xml.attributes.item(j)
              obj['@attributes'][attribute.nodeName] = attribute.nodeValue
            }
          }
        } else if (xml.nodeType == 3) {
          // text
          obj = xml.nodeValue
        }

        // do children
        if (xml.hasChildNodes()) {
          for (var i = 0; i < xml.childNodes.length; i++) {
            var item = xml.childNodes.item(i)
            var nodeName = item.nodeName
            if (typeof obj[nodeName] == 'undefined') {
              obj[nodeName] = xmlToJson(item)
            } else {
              if (typeof obj[nodeName].push == 'undefined') {
                var old = obj[nodeName]
                obj[nodeName] = []
                obj[nodeName].push(old)
              }
              obj[nodeName].push(xmlToJson(item))
            }
          }
        }
        return obj
      }

      // Get date
      var date = new Date()
      var day = date.getUTCDay()
      var days = {
        0: 'Sunday',
        1: 'Monday',
        2: 'Tuesday',
        3: 'Wednesday',
        4: 'Thursday',
        5: 'Friday',
        6: 'Saturday',
      }

      var disdCalendarFeed = 'https://www.dentonisd.org/site/RSS.aspx?DomainID=1&ModuleInstanceID=12926&PageID=1'
      var disdCalendar = 'https://www.dentonisd.org/Page/2'

      var disdXml = $.ajax(disdCalendarFeed)
      console.log(disdXml)
      var xmlStr = '<a id="a"><b id="b">hey!</b></a>'
      var parser = new DOMParser()
      var dom = parser.parseFromString(xmlStr, 'application/xml')

      console.log(days[day])
    </script>
  </head>
  <body>
    <div id="block-day"></div>
  </body>
</html>
